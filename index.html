<!DOCTYPE html>
<html>
<head>
  <title>Belajar Membaca Anak</title>
  <!-- Tambahkan style untuk menghilangkan border pada tabel, memberikan jarak antara sel-sel, dan mengubah ukuran font -->
  <style>
    table {
      border-collapse: collapse;
      margin: 0 auto;
    }
    td {
      padding: 20px;
      font-size: 24px;
    }
  </style>
</head>

<body>
    <!-- elemen div yang akan menjadi container untuk elemen select -->
    <div id="input-container"></div>

    <!-- menyertakan file JavaScript yang berisi kode untuk generate elemen select -->

    <script>
      daftarHurufMati = 'cdfghjklmnpqrstvwyzx';
      daftarHurufMati2 = 'bcdfghjklmnpqrstvwyzx';
      daftarHurufMati25 = daftarHurufMati2.split('');
      daftarHurufMati25.push('ng');
      daftarHurufMati3 = [];
      daftarHurufMati3 = daftarHurufMati25;
      daftarHurufMati3.push('');
      daftarHurufVokal = 'iueo';
      daftarHurufVokal2 = 'aiueo';
      
      daftarKata = [];
      const generateInputList = () => {
        // menentukan jumlah elemen option yang akan dibuat

        // mengambil elemen div yang akan menjadi container untuk elemen select
        const container = document.getElementById('input-container');

    // membuat elemen select
    const select = document.createElement('select');
    
    
   // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = 1;
      option.id = "opsi" + option.value;
      option.textContent = `Level 1 - a, ba`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);

    // menggunakan looping untuk membuat elemen option sebanyak numInputs kali
    for (let i = 0; i < daftarHurufMati.length; i++) {
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = i + 2;
      option.id = "opsi" + option.value;
      option.textContent = `Level ${i+2} - ${daftarHurufMati[i]}a`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir = option.value;
    }

    // menggunakan looping untuk membuat elemen option sebanyak numInputs kali
    for (let i = 0; i < daftarHurufVokal.length; i++) {
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = parseInt(levelTerakhir) + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ${daftarHurufVokal[i]}`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    for (let j = 0; j < daftarHurufMati2.length; j++) {
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = levelTerakhir + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ${daftarHurufMati2[j]}${daftarHurufVokal[i]}`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }
    }

    for (let i = 0; i < daftarHurufVokal2.length; i++) {
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = parseInt(levelTerakhir) + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ng${daftarHurufVokal2[i]}`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }

    for (let j = 0; j < daftarHurufMati2.length; j++) {
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = levelTerakhir + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ...${daftarHurufMati2[j]}`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }

    if (true){
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = levelTerakhir + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ...ng`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }

    for (let j = 0; j < daftarHurufVokal2.length; j++) {
    for (let i = j; i < daftarHurufVokal2.length; i++) {
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = levelTerakhir + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ${daftarHurufVokal2[j]}${daftarHurufVokal2[i]}`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }
    }

    if (true){
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = levelTerakhir + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - diftong + huruf mati`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }
   
    tambahanBaca = ['y vokal'];
    for (let i = 0; i < tambahanBaca.length; i++){
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = levelTerakhir + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ${tambahanBaca[i]}`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }


    select.id = 'daftarLevel';
    select.setAttribute('onchange','generateBacaan();');
    select.setAttribute('oninput','generateBacaan();');
    select.setAttribute('onclick','generateBacaan();');

    // menambahkan elemen select ke dalam container
    container.appendChild(select);
  }

  // memanggil fungsi generateInputList saat halaman diload
  window.addEventListener('load', generateInputList);
</script>

<script>
daftarKata[122] = [['tu','na','dak','sa'],];
daftarKata[128] = [['ku','mur'],];
daftarKata[152] = [['nef','ri','di','um'],];
</script>

  <!-- Buat sebuah tabel untuk menampilkan hasil -->
  <table>
    <!-- Buat sebuah loop untuk menampilkan baris -->
    <tbody id = 'isiBaca'>
    </tbody>
  </table>
<!-- Buat sebuah loop untuk menampilkan kolom -->
        <script>
        function generateBacaan(){
          var hasilTabel = '<tr>';
          // Definisikan sebuah array yang berisi beberapa suku kata acak
          var kataAcak = ['a', 'ba'];
          var levelAsli = parseInt(document.getElementById('daftarLevel').value);
          level = 0 + parseInt(document.getElementById('daftarLevel').value);
          if (level > 1){
            for (let i = 2; i < (level + 1); i++){
              kataAcak.push(document.getElementById('opsi'+i).innerHTML.split('- ')[1]);
            }
          }

          // Definisikan jumlah baris dan kolom yang diinginkan
          const jumlahBaris = 8;
          const jumlahKolom = 4;

          for (let i = 0; i < jumlahBaris; i++) {
            // Buat sebuah loop untuk menampilkan kolom
            for (let j = 0; j < jumlahKolom; j++) {
              // Tentukan suku kata acak yang akan ditambahkan ke baris ini
              const indexKataAcak = Math.floor(Math.random() * kataAcak.length);
              var kata = kataAcak[indexKataAcak];
              ulangSebelum = Math.floor(1/(1-Math.random()));
              while (ulangSebelum > kataAcak.length){ulangSebelum = Math.floor(1/(1-Math.random()));}
              if ((Math.random() < 1/2)&&(level > 1)){kata = kataAcak[kataAcak.length-ulangSebelum];}
              if ((daftarHurufVokal2.includes(kata[0]))&&(kata.length>1)){
               if(daftarHurufVokal2.includes(kata[1])){
               kata=daftarHurufMati3[Math.floor(daftarHurufMati3.length*Math.random())]+kata;
               }
              }
              if (kata[0]=='.'){kata=kataAcak[Math.floor(Math.random()*114)+1]+kata.split('...')[1];}
              if (kata.split('+').length > 1){kata=`${daftarHurufMati3[Math.floor(daftarHurufMati3.length*Math.random())]}${daftarHurufVokal2[Math.floor(daftarHurufVokal2.length*Math.random())]}${daftarHurufVokal2[Math.floor(daftarHurufVokal2.length*Math.random())]}${daftarHurufMati25[Math.floor(daftarHurufMati25.length*Math.random())]}`;}
              if (kata.split('vokal').length > 1){kata=`${daftarHurufMati3[Math.floor(daftarHurufMati3.length*Math.random())]}${kata.split(' vokal')[0]}`;
                if (Math.random() < 1/2){kata += daftarHurufMati3[Math.floor(daftarHurufMati25.length*Math.random())];}
              }
              // Tambahkan suku kata ke tabel
              hasilTabel += `<td id="baris${i}kolom${j}">${kata}</td>`;
            }
            // Tambahkan tag tr setelah selesai menampilkan kolom di baris ini
            hasilTabel += '</tr><tr>';
          }
          // Hapus tag tr terakhir yang tidak diperlukan
          hasilTabel += '</tr>';
          document.getElementById('isiBaca').innerHTML = hasilTabel;
          daftarDaftarKata = [122,128,152];
          for (let i = 4; i < 6; i++) {if ((Math.random()<1/2)&&(level>121)){
            pilihanDaftarKata = daftarDaftarKata[Math.floor(Math.random()*daftarDaftarKata.length)];
            if (level < pilihanDaftarKata){pilihanDaftarKata = 122}
            daftarKataTerpilih = daftarKata[pilihanDaftarKata];
            kataTerpilih = daftarKataTerpilih[Math.floor(Math.random()*daftarKataTerpilih.length)];
            if (kataTerpilih.length == 4){
              for (let j = 0; j < jumlahKolom; j++) {
                document.getElementById(`baris${i}kolom${j}`).innerHTML = kataTerpilih[j];
              }
            }
            if (kataTerpilih.length == 2){
              pilihanKolomAwal = Math.floor(Math.random()*3);
              document.getElementById(`baris${i}kolom${pilihanKolomAwal}`).innerHTML = kataTerpilih[0];
              document.getElementById(`baris${i}kolom${pilihanKolomAwal+1}`).innerHTML = kataTerpilih[1];
            }
          }
          }
          for (let i = 6; i < 8; i++) {
            // Buat sebuah loop untuk menampilkan kolom
            for (let j = 0; j < jumlahKolom; j++) {
              // Tentukan suku kata acak yang akan ditambahkan ke baris ini
              const indexKataAcak = Math.floor(Math.random() * kataAcak.length);
              var kata = kataAcak[indexKataAcak];
              ulangSebelum = Math.floor(1/(1-Math.random()));
              while (ulangSebelum > kataAcak.length){ulangSebelum = Math.floor(1/(1-Math.random()));}
              if ((Math.random() < 1/2)&&(level > 1)){kata = kataAcak[kataAcak.length-ulangSebelum];}
              if ((daftarHurufVokal2.includes(kata[0]))&&(kata.length>1)){
               if(daftarHurufVokal2.includes(kata[1])){
               kata=daftarHurufMati3[Math.floor(daftarHurufMati3.length*Math.random())]+kata;
               }
              }
              if (kata[0]=='.'){kata=kataAcak[Math.floor(Math.random()*114)+1]+kata.split('...')[1];}
              if (kata.split('+').length > 1){kata=`${daftarHurufMati3[Math.floor(daftarHurufMati3.length*Math.random())]}${daftarHurufVokal2[Math.floor(daftarHurufVokal2.length*Math.random())]}${daftarHurufVokal2[Math.floor(daftarHurufVokal2.length*Math.random())]}${daftarHurufMati25[Math.floor(daftarHurufMati25.length*Math.random())]}`;}
              if (kata.split('vokal').length > 1){kata=`${daftarHurufMati3[Math.floor(daftarHurufMati3.length*Math.random())]}${kata.split(' vokal')[0]}`;
                if (Math.random() < 1/2){kata += daftarHurufMati3[Math.floor(daftarHurufMati25.length*Math.random())];}
              }
              // Tambahkan suku kata ke tabel
              if(kata.length!=1){document.getElementById(`baris${i}kolom${j}`).innerHTML += kata};
            }
          }
        }
        </script>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
  <title>Belajar Membaca Anak</title>
  <!-- Tambahkan style untuk menghilangkan border pada tabel, memberikan jarak antara sel-sel, dan mengubah ukuran font -->
  <style>
    table {
      border-collapse: collapse;
      margin: 0 auto;
    }
    td {
      padding: 20px;
      font-size: 24px;
    }
    select {
      padding: 10px;
      font-size: 16px;
      border-radius: 5px;
      border: 1px solid #ccc;
      background-color: #fff;
      color: #333;
      outline: none;
      box-shadow: none;
      appearance: none; /* Untuk menghapus default arrow pada tag select pada beberapa browser */
    }

    select:hover, select:focus {
      border-color: #999;
    }

    select option {
      padding: 10px;
      font-size: 16px;
      background-color: #fff;
      color: #333;
    }
  </style>
</head>

<body>
    <!-- elemen div yang akan menjadi container untuk elemen select -->
    <div id="input-container"></div>
    <div id="ajakEja"></div>

    <!-- menyertakan file JavaScript yang berisi kode untuk generate elemen select -->

    <script>
      daftarHurufMati = 'cdfghjklmnpqrstvwyzx';
      daftarHurufMati2 = 'bcdfghjklmnpqrstvwyzx';
      daftarHurufMati25 = daftarHurufMati2.split('');
      daftarHurufMati25.push('ng');
      daftarHurufMati3 = [];
      daftarHurufMati3 = daftarHurufMati25;
      daftarHurufMati3.push('');
      daftarHurufHidup = [];
      daftarHurufHidup = daftarHurufMati3.concat('ny');
      daftarHurufHidupback = []; daftarHurufHidupback = daftarHurufHidup; 
      daftarDobelHuruf = ['sy', 'pr','st'];
      daftarDobelHurufMati = ['bs','rp'];
      daftarHurufVokal = 'iueo';
      daftarHurufVokal2 = 'aiueo';
      
      daftarKata = [];
      const generateInputList = () => {
        // menentukan jumlah elemen option yang akan dibuat

        // mengambil elemen div yang akan menjadi container untuk elemen select
        const container = document.getElementById('input-container');

    // membuat elemen select
    const select = document.createElement('select');
    
    
   // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = 1;
      option.id = "opsi" + option.value;
      option.textContent = `Level 1 - a, ba`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);

    // menggunakan looping untuk membuat elemen option sebanyak numInputs kali
    for (let i = 0; i < daftarHurufMati.length; i++) {
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = i + 2;
      option.id = "opsi" + option.value;
      option.textContent = `Level ${i+2} - ${daftarHurufMati[i]}a`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir = option.value;
    }

    // menggunakan looping untuk membuat elemen option sebanyak numInputs kali
    for (let i = 0; i < daftarHurufVokal.length; i++) {
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = parseInt(levelTerakhir) + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ${daftarHurufVokal[i]}`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    for (let j = 0; j < daftarHurufMati2.length; j++) {
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = levelTerakhir + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ${daftarHurufMati2[j]}${daftarHurufVokal[i]}`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }
    }

    for (let i = 0; i < daftarHurufVokal2.length; i++) {
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = parseInt(levelTerakhir) + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ng${daftarHurufVokal2[i]}`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }

    for (let i = 0; i < daftarHurufVokal2.length; i++) {
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = parseInt(levelTerakhir) + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ny${daftarHurufVokal2[i]}`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }

    for (let j = 0; j < daftarHurufMati2.length; j++) {
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = levelTerakhir + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ...${daftarHurufMati2[j]}`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }

    if (true){
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = levelTerakhir + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ...ng`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }

    for (let j = 0; j < daftarHurufVokal2.length; j++) {
    for (let i = 0; i < daftarHurufVokal2.length; i++) {
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = levelTerakhir + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ${daftarHurufVokal2[j]}${daftarHurufVokal2[i]}`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }
    }

    if (true){
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = levelTerakhir + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - diftong + huruf mati`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }
   
    tambahanBaca = ['y vokal'];
    for (let i = 0; i < tambahanBaca.length; i++){
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = levelTerakhir + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ${tambahanBaca[i]}`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }

    levelEjaan = levelTerakhir;
    for (let i = 0; i < daftarHurufMati2.length; i++){
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = levelTerakhir + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ${daftarHurufMati2[i]} (mengeja)`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }

    for (let j = 0; j < daftarDobelHuruf.length; j++) {
    for (let i = 0; i < daftarHurufVokal2.length; i++) {
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = parseInt(levelTerakhir) + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ${daftarDobelHuruf[j]}${daftarHurufVokal2[i]}`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }
    }

    for (let j = 0; j < daftarDobelHurufMati.length; j++) {
      // membuat elemen option
      const option = document.createElement('option');

      // menetapkan value dan text dari elemen option
      option.value = levelTerakhir + 1
      option.id = "opsi" + option.value;
      option.textContent = `Level ${option.value} - ...${daftarDobelHurufMati[j]}`;

      // menambahkan elemen option ke dalam select
      select.appendChild(option);
      daftarKata.push([]);
      levelTerakhir++;
    }

    select.id = 'daftarLevel';
    select.setAttribute('onchange','generateBacaan();');
    select.setAttribute('oninput','generateBacaan();');
    select.setAttribute('onclick','generateBacaan();');

    // menambahkan elemen select ke dalam container
    container.appendChild(select);
  }

  // memanggil fungsi generateInputList saat halaman diload
  window.addEventListener('load', generateInputList);
</script>

<script>
daftarKata[5] = [['a','ga']];
daftarKata[16] = [['ka','ta']];
daftarKata[56] = [['pu','ma']];
daftarKata[78] = [['pe','pa','ru']];
daftarKata[99] = [['no','va']];
daftarKata[125] = [['me','le','pih'],['ge','le','dah']];
daftarKata[127] = [['me','li','rik'],['pa','si','fik'],['tu','na','dak','sa'],['suk','la','pak','sa'],['te','ra','kuk'],];
daftarKata[128] = [['la','pel'],['sa','bi','lil','lah'],];
daftarKata[130] = [['men','den','da'],['ke','ri','ni','ngan'],['sa','ka','pan'],['sa','ri','ngan'],['men','seren','da','hi'],['te','rangan'],['tera','ngan'],['te','ra','ngan'],['ba','lu','han'],['a','li','ran'],['se','ra','pan'],['jam','ban'],['pe','nye','lesai','an'],['pe','nyele','sai','an'],['men','tol'],['te','la','kan'],['a','tu','ran'],['un','jun'],['be','ri','ngin'],['co','ba','an'],['men','du','kun','kan'],];
daftarKata[131] = [['ge','rip']];
daftarKata[133] = [['mer','ta','pal'],['me','nge','jar'],['ku','mur'],['ber','pan','cu','ran'],['per','te','lu','ran'],['mer','li','lin'],];
daftarKata[134] = [['ro','man','tis'],['e','pi','ku','ris'],['se','no','morfis','me'],['seno','mor','fis','me'],['mi','mis']];
daftarKata[135] = [['at'],['se','pen','ju','lat'],['ju','hut'],['ret','ro','ma','mal'],['di','sa','yat']];
daftarKata[141] = [['me','ngi','ting'],['ber','lan','ting'],['pung','lor'],['ber','terang','-tera','ngan'],['ber','terang','-te','rangan'],['ber','terang'],['tang','kul'],['me','mang','kas'],['ter','lang','kah','kan'],];
daftarKata[143] = [['ter','ke','lem','pai'],['pa','ra','sai','ling'],['man','dai']];
daftarKata[144] = [['auto','ni','sa','si'],['rau','da','tul','janah']];
daftarKata[151] = [['ra','dio','li','sis'],['bio','akti','vi','tas'],['bio','ak','tivi','tas'],['bio','ak','ti','vitas']];
daftarKata[163] = [['zoi','dio','fo','li'],];
daftarKata[167] = [['ak','tuil'],['ke','ha','ruan'],['se','tiar'],['nef','ri','dium'],];
daftarKata[168] = [['my','ri','ca']];
</script>


<script>
//cekEjaan
function cekEjaan(lihatBacaan,levelMengeja){
  for (let i = 0; i < lihatBacaan.length; i++) {
  if (daftarHurufMati2.substring(levelMengeja).includes(lihatBacaan[i])){return false}
  }
  return true
}

</script>

  <!-- Buat sebuah tabel untuk menampilkan hasil -->
  <table>
    <!-- Buat sebuah loop untuk menampilkan baris -->
    <tbody id = 'isiBaca'>
    </tbody>
  </table>
<!-- Buat sebuah loop untuk menampilkan kolom -->
        <script>
        function generateBacaan(){
          var hasilTabel = '<tr>';
          // Definisikan sebuah array yang berisi beberapa suku kata acak
          var kataAcak = ['a', 'ba'];
          var levelAsli = parseInt(document.getElementById('daftarLevel').value);
          level = 0 + parseInt(document.getElementById('daftarLevel').value);
          daftarHurufHidup = daftarHurufHidupback;
          for (i = 0; i < daftarDobelHuruf.length;i++){
            if (levelAsli > 189 + 5*i){daftarHurufHidup.push(daftarDobelHuruf[i]);}
          }
          levelMengeja = level - levelEjaan;
          if (level > 1){
            for (let i = 2; i < (level + 1); i++){
              kataAcak.push(document.getElementById('opsi'+i).innerHTML.split('- ')[1]);
            }
          }

          // Definisikan jumlah baris dan kolom yang diinginkan
          const jumlahBaris = 8;
          const jumlahKolom = 4;

          for (let i = 0; i < jumlahBaris; i++) {
            // Buat sebuah loop untuk menampilkan kolom
            for (let j = 0; j < jumlahKolom; j++) {
              // Tentukan suku kata acak yang akan ditambahkan ke baris ini
              const indexKataAcak = Math.floor(Math.random() * kataAcak.length);
              var kata = kataAcak[indexKataAcak];
              ulangSebelum = Math.floor(1/(1-Math.random()));
              while (ulangSebelum > kataAcak.length){ulangSebelum = Math.floor(1/(1-Math.random()));}
              if ((Math.random() < 1/2)&&(level > 1)){kata = kataAcak[kataAcak.length-ulangSebelum];}
              if ((daftarHurufVokal2.includes(kata[0]))&&(kata.length>1)){
               if(daftarHurufVokal2.includes(kata[1])){
               kata=daftarHurufHidup[Math.floor(daftarHurufHidup.length*Math.random())]+kata;
               }
              }
              if (kata[0]=='.'){
                 if ((levelAsli > 189)&&(Math.random()<1/2)){kata=kataAcak[Math.floor(Math.random()*(levelAsli-190))+189]+kata.split('...')[1];}
                 else{kata=kataAcak[Math.floor(Math.random()*119)+1]+kata.split('...')[1];}
              }
              if (kata.split('+').length > 1){kata=`${daftarHurufHidup[Math.floor(daftarHurufHidup.length*Math.random())]}${daftarHurufVokal2[Math.floor(daftarHurufVokal2.length*Math.random())]}${daftarHurufVokal2[Math.floor(daftarHurufVokal2.length*Math.random())]}${daftarHurufMati25[Math.floor(daftarHurufMati25.length*Math.random())]}`;}
              if (kata.split('vokal').length > 1){kata=`${daftarHurufHidup[Math.floor(daftarHurufHidup.length*Math.random())]}${kata.split(' vokal')[0]}`;
                if (Math.random() < 1/2){kata += daftarHurufMati3[Math.floor(daftarHurufMati25.length*Math.random())];}
              }
              if (kata.split('(mengeja)').length > 1){kata=`${kata.split(' (mengeja)')[0]}`;}
              // Tambahkan suku kata ke tabel
              hasilTabel += `<td id="baris${i}kolom${j}">${kata}</td>`;
            }
            // Tambahkan tag tr setelah selesai menampilkan kolom di baris ini
            hasilTabel += '</tr><tr>';
          }
          // Hapus tag tr terakhir yang tidak diperlukan
          hasilTabel += '</tr>';
          document.getElementById('isiBaca').innerHTML = hasilTabel;
          daftarDaftarKata = [5,16,56,78,99,125,127,128,130,131,133,134,135,141,143,144,151,163,167,168];
          for (let i = 4; i < 6; i++) {if ((Math.random()<1/2)&&(level>121)){
            pilihanDaftarKata = daftarDaftarKata[Math.floor(Math.random()*daftarDaftarKata.length)];
            while (level < pilihanDaftarKata){pilihanDaftarKata = daftarDaftarKata[Math.floor(Math.random()*daftarDaftarKata.length)];}
            daftarKataTerpilih = daftarKata[pilihanDaftarKata];
            kataTerpilih = daftarKataTerpilih[Math.floor(Math.random()*daftarKataTerpilih.length)];
            if (kataTerpilih.length == 4){
              for (let j = 0; j < jumlahKolom; j++) {
                document.getElementById(`baris${i}kolom${j}`).innerHTML = kataTerpilih[j];
              }
            }
            if (kataTerpilih.length == 3){
              pilihanKolomAwal = Math.floor(Math.random()*2);
              document.getElementById(`baris${i}kolom${pilihanKolomAwal}`).innerHTML = kataTerpilih[0];
              document.getElementById(`baris${i}kolom${pilihanKolomAwal+1}`).innerHTML = kataTerpilih[1];
              document.getElementById(`baris${i}kolom${pilihanKolomAwal+2}`).innerHTML = kataTerpilih[2];
            }
            if (kataTerpilih.length == 2){
              pilihanKolomAwal = Math.floor(Math.random()*3);
              document.getElementById(`baris${i}kolom${pilihanKolomAwal}`).innerHTML = kataTerpilih[0];
              document.getElementById(`baris${i}kolom${pilihanKolomAwal+1}`).innerHTML = kataTerpilih[1];
              if (pilihanKolomAwal==0){
                pilihanDaftarKata = daftarDaftarKata[Math.floor(Math.random()*daftarDaftarKata.length)];
                while (level < pilihanDaftarKata){pilihanDaftarKata = daftarDaftarKata[Math.floor(Math.random()*daftarDaftarKata.length)];}
                daftarKataTerpilih = daftarKata[pilihanDaftarKata];
                kataTerpilih = daftarKataTerpilih[Math.floor(Math.random()*daftarKataTerpilih.length)];
                if (kataTerpilih.length == 2){
                  document.getElementById(`baris${i}kolom${2}`).innerHTML = kataTerpilih[0];
                  document.getElementById(`baris${i}kolom${3}`).innerHTML = kataTerpilih[1];
                }
              }
            }
          }
          }
          for (let i = 6; i < 8; i++) {
            // Buat sebuah loop untuk menampilkan kolom
            for (let j = 0; j < jumlahKolom; j++) {
              // Tentukan suku kata acak yang akan ditambahkan ke baris ini
              const indexKataAcak = Math.floor(Math.random() * kataAcak.length);
              var kata = kataAcak[indexKataAcak];
              ulangSebelum = Math.floor(1/(1-Math.random()));
              while (ulangSebelum > kataAcak.length){ulangSebelum = Math.floor(1/(1-Math.random()));}
              if ((Math.random() < 1/2)&&(level > 1)){kata = kataAcak[kataAcak.length-ulangSebelum];}
              if ((daftarHurufVokal2.includes(kata[0]))&&(kata.length>1)){
               if(daftarHurufVokal2.includes(kata[1])){
               kata=daftarHurufHidup[Math.floor(daftarHurufHidup.length*Math.random())]+kata;
               }
              }
              if (kata[0]=='.'){
                 if ((levelAsli > 189)&&(Math.random()<1/2)){kata=kataAcak[Math.floor(Math.random()*(levelAsli-190))+189]+kata.split('...')[1];}
                 else{kata=kataAcak[Math.floor(Math.random()*119)+1]+kata.split('...')[1];}
              }
              if (kata.split('+').length > 1){kata=`${daftarHurufHidup[Math.floor(daftarHurufHidup.length*Math.random())]}${daftarHurufVokal2[Math.floor(daftarHurufVokal2.length*Math.random())]}${daftarHurufVokal2[Math.floor(daftarHurufVokal2.length*Math.random())]}${daftarHurufMati25[Math.floor(daftarHurufMati25.length*Math.random())]}`;}
              if (kata.split('vokal').length > 1){kata=`${daftarHurufHidup[Math.floor(daftarHurufHidup.length*Math.random())]}${kata.split(' vokal')[0]}`;
                if (Math.random() < 1/2){kata += daftarHurufMati3[Math.floor(daftarHurufMati25.length*Math.random())];}
              }
              if (kata.split('(mengeja)').length > 1){kata=`${kata.split(' (mengeja)')[0]}`;}
              // Tambahkan suku kata ke tabel
              if((kata.length!=1)&&(!daftarHurufMati2.includes(document.getElementById(`baris${i}kolom${j}`).innerHTML))){document.getElementById(`baris${i}kolom${j}`).innerHTML += kata};
            }
          }
          for (let j = 0; j < jumlahKolom; j++) {if ((Math.random()<1/2)&&(level>121)){
            pilihanDaftarKata = daftarDaftarKata[Math.floor(Math.random()*daftarDaftarKata.length)];
            while (level < pilihanDaftarKata){pilihanDaftarKata = daftarDaftarKata[Math.floor(Math.random()*daftarDaftarKata.length)];}
            daftarKataTerpilih = daftarKata[pilihanDaftarKata];
            kataTerpilih = daftarKataTerpilih[Math.floor(Math.random()*daftarKataTerpilih.length)];
            document.getElementById(`baris7kolom${j}`).innerHTML = kataTerpilih.join("");         
          }}

         document.getElementById('ajakEja').innerHTML = '' ;
//mengeja 
          if ((levelMengeja > 0)&&(levelAsli <= 189)){
          document.getElementById('ajakEja').innerHTML = '<span style="background-color: #f4cccc">Ajak untuk mengeja kata yang ditandai dengan ini</span>' ;
          for (let i = 0; i < jumlahBaris; i++) {
            for (let j = 0; j < jumlahKolom; j++) {
              lihatBacaan = document.getElementById(`baris${i}kolom${j}`).innerHTML;
              if (cekEjaan(lihatBacaan,levelMengeja)){document.getElementById(`baris${i}kolom${j}`).innerHTML = '<span style="background-color: #f4cccc">' + lihatBacaan + '</span>'}
            }
          }
          }

        }//akhir fungsi generate

        </script>
</body>
</html>